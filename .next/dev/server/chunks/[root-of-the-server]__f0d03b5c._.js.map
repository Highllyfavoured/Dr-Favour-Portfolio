{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 130, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/dell/Desktop/Dr-Favour-portfolio/app/api/submit-form/route.js"],"sourcesContent":["// // app/api/submit-form/route.js\r\n// import nodemailer from 'nodemailer';\r\n// import { NextResponse } from 'next/server';\r\n\r\n// export async function POST(request) {\r\n//   try {\r\n//     const { name, email, message } = await request.json();\r\n\r\n//     // Validate required fields\r\n//     if (!name || !email || !message) {\r\n//       return NextResponse.json(\r\n//         {\r\n//           success: false,\r\n//           message: 'All fields (name, email, message) are required.'\r\n//         },\r\n//         { status: 400 }\r\n//       );\r\n//     }\r\n\r\n//     // Validate email format\r\n//     const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n//     if (!emailRegex.test(email)) {\r\n//       return NextResponse.json(\r\n//         {\r\n//           success: false,\r\n//           message: 'Please provide a valid email address.'\r\n//         },\r\n//         { status: 400 }\r\n//       );\r\n//     }\r\n\r\n//     // Validate field lengths\r\n//     if (name.length < 2 || name.length > 100) {\r\n//       return NextResponse.json(\r\n//         {\r\n//           success: false,\r\n//           message: 'Name must be between 2 and 100 characters.'\r\n//         },\r\n//         { status: 400 }\r\n//       );\r\n//     }\r\n\r\n//     if (message.length < 10 || message.length > 1000) {\r\n//       return NextResponse.json(\r\n//         {\r\n//           success: false,\r\n//           message: 'Message must be between 10 and 1000 characters.'\r\n//         },\r\n//         { status: 400 }\r\n//       );\r\n//     }\r\n\r\n//     // Create transporter for sending emails\r\n//     const transporter = nodemailer.createTransporter({\r\n//       service: 'gmail',\r\n//       auth: {\r\n//         user: process.env.EMAIL_USER,\r\n//         pass: process.env.EMAIL_PASS,\r\n//       },\r\n//     });\r\n\r\n//     // Email content for you (notification)\r\n//     const notificationEmail = {\r\n//       from: process.env.EMAIL_USER,\r\n//       to: process.env.EMAIL_USER,\r\n//       subject: `New Contact Form Submission from ${name}`,\r\n//       html: `\r\n//         <div style=\"font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;\">\r\n//           <h2 style=\"color: #333; border-bottom: 2px solid #007bff; padding-bottom: 10px;\">\r\n//             New Contact Form Submission\r\n//           </h2>\r\n          \r\n//           <div style=\"background-color: #f8f9fa; padding: 20px; border-radius: 8px; margin: 20px 0;\">\r\n//             <h3 style=\"color: #007bff; margin-top: 0;\">Contact Details:</h3>\r\n//             <p><strong>Name:</strong> ${name}</p>\r\n//             <p><strong>Email:</strong> ${email}</p>\r\n//           </div>\r\n          \r\n//           <div style=\"background-color: #fff; padding: 20px; border-left: 4px solid #007bff;\">\r\n//             <h3 style=\"color: #333; margin-top: 0;\">Message:</h3>\r\n//             <p style=\"line-height: 1.6; color: #555;\">${message}</p>\r\n//           </div>\r\n          \r\n//           <div style=\"margin-top: 30px; padding: 15px; background-color: #e9ecef; border-radius: 8px;\">\r\n//             <p style=\"margin: 0; color: #666; font-size: 14px;\">\r\n//               <strong>Submitted:</strong> ${new Date().toLocaleString()}\r\n//             </p>\r\n//           </div>\r\n//         </div>\r\n//       `,\r\n//     };\r\n\r\n//     // Auto-reply email for the sender\r\n//     const autoReplyEmail = {\r\n//       from: process.env.EMAIL_USER,\r\n//       to: email,\r\n//       subject: 'Thank you for contacting Dr. Olaosebikan Favour',\r\n//       html: `\r\n//         <div style=\"font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;\">\r\n//           <h2 style=\"color: #007bff; border-bottom: 2px solid #007bff; padding-bottom: 10px;\">\r\n//             Thank You for Your Message!\r\n//           </h2>\r\n          \r\n//           <p style=\"font-size: 16px; color: #333; line-height: 1.6;\">\r\n//             Hi ${name},\r\n//           </p>\r\n          \r\n//           <p style=\"font-size: 16px; color: #333; line-height: 1.6;\">\r\n//             Thank you for reaching out! I've received your message and will get back to you as soon as possible, typically within 24-48 hours.\r\n//           </p>\r\n          \r\n//           <div style=\"background-color: #f8f9fa; padding: 20px; border-radius: 8px; margin: 20px 0;\">\r\n//             <h3 style=\"color: #007bff; margin-top: 0;\">Your Message:</h3>\r\n//             <p style=\"color: #555; font-style: italic;\">\"${message}\"</p>\r\n//           </div>\r\n          \r\n//           <div style=\"margin-top: 30px; padding: 20px; background-color: #007bff; border-radius: 8px; text-align: center;\">\r\n//             <p style=\"margin: 0; color: white; font-size: 16px;\">\r\n//               Best regards,<br>\r\n//               <strong>Dr. Olaosebikan Favour</strong>\r\n//             </p>\r\n//           </div>\r\n//         </div>\r\n//       `,\r\n//     };\r\n\r\n//     // Send both emails\r\n//     await Promise.all([\r\n//       transporter.sendMail(notificationEmail),\r\n//       transporter.sendMail(autoReplyEmail)\r\n//     ]);\r\n\r\n//     console.log(`New contact form submission from ${name} (${email}) at ${new Date().toISOString()}`);\r\n\r\n//     return NextResponse.json({\r\n//       success: true,\r\n//       message: 'Thank you for your message! I will get back to you soon.'\r\n//     });\r\n\r\n//   } catch (error) {\r\n//     console.error('Contact form submission error:', error);\r\n    \r\n//     return NextResponse.json(\r\n//       {\r\n//         success: false,\r\n//         message: 'Sorry, there was an error sending your message. Please try again later.'\r\n//       },\r\n//       { status: 500 }\r\n//     );\r\n//   }\r\n// }\r\n\r\n// export async function OPTIONS() {\r\n//   return new NextResponse(null, {\r\n//     status: 200,\r\n//     headers: {\r\n//       'Access-Control-Allow-Origin': '*',\r\n//       'Access-Control-Allow-Methods': 'POST, OPTIONS',\r\n//       'Access-Control-Allow-Headers': 'Content-Type',\r\n//     },\r\n//   });\r\n// }\r\n\r\nimport nodemailer from \"nodemailer\";\r\n\r\nexport async function POST(req) {\r\n  try {\r\n    const body = await req.json();\r\n    const { name, email, message } = body;\r\n\r\n    if (!name || !email || !message) {\r\n      return Response.json(\r\n        { success: false, error: \"All fields are required.\" },\r\n        { status: 400 }\r\n      );\r\n    }\r\n\r\n    // --- Email Transporter ---\r\n    const transporter = nodemailer.createTransport({\r\n      service: \"gmail\",\r\n      auth: {\r\n        user: process.env.EMAIL_USER, // your Gmail address\r\n        pass: process.env.EMAIL_PASS, // your App Password (NOT Gmail password)\r\n      },\r\n    });\r\n\r\n    // --- Email Content ---\r\n    const mailOptions = {\r\n      from: email,\r\n      to: process.env.EMAIL_USER, // send message to yourself\r\n      subject: `New Message from ${name}`,\r\n      text: `\r\nName: ${name}\r\nEmail: ${email}\r\nMessage: ${message}\r\n      `,\r\n    };\r\n\r\n    // --- Send Email ---\r\n    await transporter.sendMail(mailOptions);\r\n\r\n    return Response.json(\r\n      { success: true, message: \"Your message was sent successfully!\" },\r\n      { status: 200 }\r\n    );\r\n\r\n  } catch (error) {\r\n    console.error(\"Email error:\", error);\r\n    return Response.json(\r\n      {\r\n        success: false,\r\n        error: \"Sorry, something went wrong while sending your message.\",\r\n      },\r\n      { status: 500 }\r\n    );\r\n  }\r\n}\r\n"],"names":[],"mappings":"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"}}]
}